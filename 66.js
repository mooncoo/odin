(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[66],{jr6R:function(e,t,n){"use strict";n.r(t),n.d(t,"taro_textarea_core",(function(){return h}));var i=n("ZF8R"),a="taro-textarea-core{display:block;width:300px}taro-textarea-core .auto-height{height:auto}.taro-textarea{-webkit-appearance:none;cursor:auto;width:100%;height:150px;border:0;display:block;position:relative;line-height:1.5}.taro-textarea:focus{outline:none}";function o(e){return null!==e&&void 0!==e?e:""}var h=function(){function e(e){var t=this;Object(i["g"])(this,e),this.onInput=Object(i["c"])(this,"input",7),this.onFocus=Object(i["c"])(this,"focus",7),this.onBlur=Object(i["c"])(this,"blur",7),this.onChange=Object(i["c"])(this,"change",7),this.onLineChange=Object(i["c"])(this,"linechange",7),this.disabled=!1,this.maxlength=140,this.autoFocus=!1,this.autoHeight=!1,this.nativeProps={},this.line=1,this.handleInput=function(e){e.stopPropagation(),t.handleLineChange(),t.onInput.emit({value:e.target.value,cursor:e.target.value.length})},this.handleFocus=function(e){t.onFocus.emit({value:e.target.value})},this.handleBlur=function(e){t.onBlur.emit({value:e.target.value})},this.handleChange=function(e){e.stopPropagation(),t.onChange.emit({value:e.target.value})},this.handleLineChange=function(){var e=t.getNumberOfLines();e!==t.line&&(t.line=e,t.onLineChange.emit({height:t.textareaRef.clientHeight,lineCount:t.line}))},this.calculateContentHeight=function(e,t){var n=e.style.height,i=e.offsetHeight,a=e.scrollHeight,o=e.style.overflow;if(!(i>=a))return a;if(e.style.height=i+t+"px",e.style.overflow="hidden",a<e.scrollHeight){while(e.offsetHeight>=e.scrollHeight)e.style.height=(i-=t)+"px";while(e.offsetHeight<e.scrollHeight)e.style.height=i+++"px";return e.style.height=n,e.style.overflow=o,i}},this.getNumberOfLines=function(){var e=t.textareaRef,n=window.getComputedStyle?window.getComputedStyle(e):e.style,i=parseInt(n.lineHeight,10),a=t.calculateContentHeight(e,i),o=Math.floor(a/i);return o}}return e.prototype.componentDidLoad=function(){var e=this;Object.defineProperty(this.el,"value",{get:function(){return e.textareaRef.value},set:function(t){return e.value=t},configurable:!0}),this.autoFocus&&this.textareaRef.focus()},e.prototype.render=function(){var e=this,t=this,n=t.value,a=t.placeholder,h=t.disabled,r=t.maxlength,l=t.autoFocus,u=t.autoHeight,s=t.name,c=t.nativeProps,g=t.handleInput,f=t.handleFocus,p=t.handleBlur,d=t.handleChange,v={};return u&&(v.rows=this.line),Object(i["e"])("textarea",Object.assign({ref:function(t){t&&(e.textareaRef=t)},class:"taro-textarea "+(u?"auto-height":""),value:o(n),placeholder:a,name:s,disabled:h,maxlength:r,autofocus:l,onInput:g,onFocus:f,onBlur:p,onChange:d},c,v))},Object.defineProperty(e.prototype,"el",{get:function(){return Object(i["d"])(this)},enumerable:!1,configurable:!0}),e}();h.style=a}}]);