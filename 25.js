(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{kWen:function(t,e,r){"use strict";function a(t,e,r){return r={path:e,exports:{},require:function(t,e){return o()}},t(r,r.exports),r.exports}function o(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}r.d(e,"a",(function(){return n}));var n=a((function(t){(function(){var e={}.hasOwnProperty;function r(){for(var t=[],a=0;a<arguments.length;a++){var o=arguments[a];if(o){var n=typeof o;if("string"===n||"number"===n)t.push(o);else if(Array.isArray(o)){if(o.length){var i=r.apply(null,o);i&&t.push(i)}}else if("object"===n)if(o.toString===Object.prototype.toString)for(var s in o)e.call(o,s)&&o[s]&&t.push(s);else t.push(o.toString())}}return t.join(" ")}t.exports?(r["default"]=r,t.exports=r):window.classNames=r})()}))},qRGH:function(t,e,r){"use strict";r.r(e),r.d(e,"taro_tabbar",(function(){return x}));var a=r("ZF8R"),o=r("pFqT"),n=r.n(o),i=r("kWen"),s=function(t,e){for(var r=0,a=e.length,o=t.length;r<a;r++,o++)t[o]=e[r];return t};function l(t){return"/"===t.charAt(0)}function b(t,e){for(var r=e,a=r+1,o=t.length;a<o;r+=1,a+=1)t[r]=t[a];t.pop()}function d(t,e){void 0===e&&(e="");var r,a=t&&t.split("/")||[],o=e&&e.split("/")||[],n=t&&l(t),i=e&&l(e),s=n||i;if(t&&l(t)?o=a:a.length&&(o.pop(),o=o.concat(a)),!o.length)return"/";if(o.length){var d=o[o.length-1];r="."===d||".."===d||""===d}else r=!1;for(var c=0,h=o.length;h>=0;h--){var u=o[h];"."===u?b(o,h):".."===u?(b(o,h),c++):c&&(b(o,h),c--)}if(!s)for(;c--;c)o.unshift("..");!s||""===o[0]||o[0]&&l(o[0])||o.unshift("");var f=o.join("/");return r&&"/"!==f.substr(-1)&&(f+="/"),f}var c=function(t){var e,r=t||"",a={path:null,query:null,fragment:null};return e=r.indexOf("#"),e>-1&&(a.fragment=r.substring(e+1),r=r.substring(0,e)),e=r.indexOf("?"),e>-1&&(a.query=r.substring(e+1),r=r.substring(0,e)),a.path=r,a},h=function(t){var e=t.index,r=t.isSelected,o=void 0!==r&&r,n=t.textColor,s=t.iconPath,l=t.badgeText,b=t.showRedDot,d=void 0!==b&&b,c=t.text,h=t.onSelect,u=Object(i["a"])("weui-tabbar__item",{"weui-bar__item_on":o}),f={position:"absolute",top:"-2px",right:"-13px"},g={position:"absolute",top:"0",right:"-6px"};function p(){h(e)}return Object(a["e"])("a",{key:e,href:"javascript:;",class:u,onClick:p},Object(a["e"])("span",{style:{display:"inline-block",position:"relative"}},Object(a["e"])("img",{src:s,alt:"",class:"weui-tabbar__icon"}),!!l&&Object(a["e"])("span",{class:"weui-badge taro-tabbar-badge",style:f},l),d&&Object(a["e"])("span",{class:"weui-badge weui-badge_dot",style:g})),Object(a["e"])("p",{class:"weui-tabbar__label",style:{color:n}},c))},u="html,body{height:100%}#app{height:100%}.taro-tabbar__border-white::before{border-top-color:#fff !important}.taro-tabbar__container{display:-ms-flexbox;display:flex;height:100%;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.taro-tabbar__panel{-ms-flex:1;flex:1;position:relative;overflow:auto;-webkit-overflow-scrolling:auto}.taro-tabbar__tabbar{position:relative;height:50px;width:100%;-webkit-transition:bottom 0.2s, top 0.2s;transition:bottom 0.2s, top 0.2s}.taro-tabbar__tabbar-top{top:0}.taro-tabbar__tabbar-bottom{bottom:0}.taro-tabbar__tabbar-hide{display:none}.taro-tabbar__tabbar-slideout{top:-52px;-ms-flex:0 0;flex:0 0}.taro-tabbar__panel+.taro-tabbar__tabbar-slideout{top:auto;bottom:-52px}",f=function(t){return"/"===t[0]?t:"/"+t},g=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},p=function(t,e){return g(t,e)?t.substr(e.length):t},v=0,_=1,T=2,m="taro-tabbar__tabbar",B="taro-tabbar__tabbar-hide",w="taro-tabbar__tabbar-slideout",x=function(){function t(t){var e=this;Object(a["g"])(this,t),this.onLongPress=Object(a["c"])(this,"longpress",7),this.homePage="",this.customRoutes=[],this.tabbarPos="bottom",this.selectedIndex=-1,this.status=v,this.getOriginUrl=function(t){var r=e.customRoutes.filter((function(e){var r=e[1],a=c(r).path,o=c(t).path;return a===o}));return r.length?r[0][0]:t},this.getSelectedIndex=function(t){var r=-1;return e.list.forEach((function(e,a){var o=e.pagePath,n=c(t).path,i=c(o).path;n===i&&(r=a)})),r},this.switchTab=function(t){e.selectedIndex=t,n.a.switchTab({url:e.list[t].pagePath})},this.switchTabHandler=function(t){var r=t.url,a=t.successHandler,o=t.errorHandler,n=e.getOriginUrl(e.getCurrentUrl()||e.homePage),i=d(r,n),s=e.getSelectedIndex(i);s>-1?(e.switchTab(s),a({errMsg:"switchTab:ok"})):o({errMsg:'switchTab:fail page "'+i+'" is not found'})},this.routerChangeHandler=function(t){var r,a;if(t&&(r=t.toLocation),r&&r.path){var o=f(r.path);a=p("/"===o?e.homePage:o,e.conf.basename||"/")}else a=e.getCurrentUrl();e.selectedIndex=e.getSelectedIndex(e.getOriginUrl(a))},this.setTabBarBadgeHandler=function(t){var r=t.index,a=t.text,o=t.successHandler,n=t.errorHandler,i=s([],e.list);r in i?(i[r].showRedDot=!1,i[r].badgeText=a,o({errMsg:"setTabBarBadge:ok"})):n({errMsg:"setTabBarBadge:fail tabbar item not found"}),e.list=i},this.removeTabBarBadgeHandler=function(t){var r=t.index,a=t.successHandler,o=t.errorHandler,n=s([],e.list);r in n?(n[r].badgeText=null,n[r].badgeText=null,a({errMsg:"removeTabBarBadge:ok"})):o({errMsg:"removeTabBarBadge:fail tabbar item not found"}),e.list=n},this.showTabBarRedDotHandler=function(t){var r=t.index,a=t.successHandler,o=t.errorHandler,n=s([],e.list);r in n?(n[r].badgeText=null,n[r].showRedDot=!0,a({errMsg:"showTabBarRedDot:ok"})):o({errMsg:"showTabBarRedDot:fail tabbar item not found"}),e.list=n},this.hideTabBarRedDotHandler=function(t){var r=t.index,a=t.successHandler,o=t.errorHandler,n=s([],e.list);r in n?(n[r].showRedDot=!1,a({errMsg:"hideTabBarRedDot:ok"})):o({errMsg:"hideTabBarRedDot:fail tabbar item not found"}),e.list=n},this.showTabBarHandler=function(t){var r=t.successHandler;e.status=v,r({errMsg:"showTabBar:ok"})},this.hideTabBarHandler=function(t){var r=t.animation,a=t.successHandler;e.status=r?T:_,a({errMsg:"hideTabBar:ok"})},this.setTabBarStyleHandler=function(t){var r=t.color,a=t.selectedColor,o=t.backgroundColor,n=t.borderStyle,i=t.successHandler;o&&(e.backgroundColor=o),n&&(e.borderStyle=n),r&&(e.color=r),a&&(e.selectedColor=a),i({errMsg:"setTabBarStyle:ok"})},this.setTabBarItemHandler=function(t){var r=t.index,a=t.iconPath,o=t.selectedIconPath,n=t.text,i=t.successHandler,l=t.errorHandler,b=s([],e.list);r in b?(a&&(b[r].iconPath=a),o&&(b[r].selectedIconPath=o),n&&(b[r].text=n),i({errMsg:"setTabBarItem:ok"})):l({errMsg:"setTabBarItem:fail tabbar item not found"}),e.list=b};var r=this.conf.list,o=this.conf.customRoutes;if("[object Array]"!==Object.prototype.toString.call(r)||r.length<2||r.length>5)throw new Error("tabBar \u914d\u7f6e\u9519\u8bef");this.homePage=f(this.conf.homePage);var i=function(t){var e,r=o[t];t=f(t),"string"===typeof r?l.customRoutes.push([t,f(r)]):(null===r||void 0===r?void 0:r.length)>0&&(e=l.customRoutes).push.apply(e,r.map((function(e){return[t,f(e)]})))},l=this;for(var b in o)i(b);r.forEach((function(t){0!==t.pagePath.indexOf("/")&&(t.pagePath="/"+t.pagePath)})),this.list=r,this.borderStyle=this.conf.borderStyle,this.backgroundColor=this.conf.backgroundColor,this.color=this.conf.color,this.selectedColor=this.conf.selectedColor}return t.prototype.getCurrentUrl=function(){var t,e=this.conf.mode,r=this.conf.basename||"/";if("hash"===e){var a=window.location.href,o=a.indexOf("#");t=-1===o?"":a.substring(o+1)}else t=location.pathname;var n=f(p(t,r));return"/"===n?this.homePage:n},t.prototype.bindEvent=function(){n.a.eventCenter.on("__taroRouterChange",this.routerChangeHandler),n.a.eventCenter.on("__taroSwitchTab",this.switchTabHandler),n.a.eventCenter.on("__taroSetTabBarBadge",this.setTabBarBadgeHandler),n.a.eventCenter.on("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),n.a.eventCenter.on("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),n.a.eventCenter.on("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),n.a.eventCenter.on("__taroShowTabBar",this.showTabBarHandler),n.a.eventCenter.on("__taroHideTabBar",this.hideTabBarHandler),n.a.eventCenter.on("__taroSetTabBarStyle",this.setTabBarStyleHandler),n.a.eventCenter.on("__taroSetTabBarItem",this.setTabBarItemHandler)},t.prototype.removeEvent=function(){n.a.eventCenter.off("__taroRouterChange",this.routerChangeHandler),n.a.eventCenter.off("__taroSwitchTab",this.switchTabHandler),n.a.eventCenter.off("__taroSetTabBarBadge",this.setTabBarBadgeHandler),n.a.eventCenter.off("__taroRemoveTabBarBadge",this.removeTabBarBadgeHandler),n.a.eventCenter.off("__taroShowTabBarRedDotHandler",this.showTabBarRedDotHandler),n.a.eventCenter.off("__taroHideTabBarRedDotHandler",this.hideTabBarRedDotHandler),n.a.eventCenter.off("__taroShowTabBar",this.showTabBarHandler),n.a.eventCenter.off("__taroHideTabBar",this.hideTabBarHandler),n.a.eventCenter.off("__taroSetTabBarStyle",this.setTabBarStyleHandler),n.a.eventCenter.off("__taroSetTabBarItem",this.setTabBarItemHandler)},t.prototype.componentDidLoad=function(){this.tabbarPos=this.tabbar.nextElementSibling?"top":"bottom",this.bindEvent(),this.routerChangeHandler()},t.prototype.disconnectedCallback=function(){this.removeEvent()},t.prototype.render=function(){var t,e,r=this,o=this.tabbarPos,n=void 0===o?"bottom":o,s=this.status,l=Object(i["a"])("weui-tabbar",(t={},t["taro-tabbar__border-"+(this.borderStyle||"black")]=!0,t)),b=-1===this.selectedIndex||s===_,d=s===T;return Object(a["e"])(a["a"],{class:Object(i["a"])(m,m+"-"+n,(e={},e[B]=b,e[w]=d,e))},Object(a["e"])("div",{class:l,style:{backgroundColor:this.backgroundColor||""}},this.list.map((function(t,e){var o,n,i=r.selectedIndex===e;return i?(o=r.selectedColor||"",n=t.selectedIconPath):(o=r.color||"",n=t.iconPath),Object(a["e"])(h,{index:e,onSelect:r.switchTab.bind(r),isSelected:i,textColor:o,iconPath:n,text:t.text,badgeText:t.badgeText,showRedDot:t.showRedDot})}))))},Object.defineProperty(t.prototype,"tabbar",{get:function(){return Object(a["d"])(this)},enumerable:!1,configurable:!0}),t}();x.style=u}}]);